# ICMP

ICMP（Internet Control Message Protocol）Internet控制报文协议。它是TCP/IP协议簇的一个子协议，用于在IP主机、路由器之间传递控制消息。

## 报文格式
一个ICMP报文包括IP报头（至少20字节）、ICMP报头（至少八字节）和ICMP报文（属于ICMP报文的数据部分
ICMP 头
类型 一字节，标识ICMP报文的类型，从类型值来看ICMP报文可以分为两大类。第一类是取值为1~127的差错报文，第2类是取值128以上的信息报文
代码 一字节，标识对应ICMP报文的代码。它与类型字段一起共同标识了ICMP报文的详细类型
校验和  这是对包括ICMP报文数据部分在内的整个ICMP数据报的校验和，以检验报文在传输过程中是否出现了差错（其计算方法与在我们介绍IP报头中的校验和计算方法是一样的）
内容

## 作用
1. 确认IP包是否成功到达目标地址
2. 通知在发送过程中IP包被丢弃的原因

## 常用
 - ping 回传
 - 不可达，源抑制（流量控制 ），超时（无连接）
 - 时间戳请求（来回一次时间）

## 相关命令
### ping命令
联通性
响应时间，和TTL（生存周期 IP包）

### traceroute
经过的路由器